{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7400/Desktop/my-project/lost-found-app/src/app/login/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Mail, Lock, Eye, EyeOff } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    const trimmedEmail = email.trim();\r\n    const trimmedPassword = password.trim();\r\n\r\n    if (!trimmedEmail || !trimmedPassword) {\r\n      setError('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(trimmedEmail)) {\r\n      setError('Please enter a valid email address');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email: trimmedEmail, password: trimmedPassword }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({ error: 'Something went wrong' }));\r\n        setError(errorData.error || 'Something went wrong');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      router.push('/dashboard');\r\n      router.refresh();\r\n    } catch (err) {\r\n      console.error('Auth error:', err);\r\n      setError('Network error. Please check your connection and try again.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50 px-4 py-12\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"w-full max-w-md\"\r\n      >\r\n        {/* Logo/App Name */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-slate-800 mb-2\">Lost & Found</h1>\r\n          <p className=\"text-slate-600 text-sm\">Reuniting people with their belongings</p>\r\n        </div>\r\n\r\n        {/* Login Card */}\r\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 border border-slate-100\">\r\n          <h2 className=\"text-2xl font-semibold text-slate-800 mb-6 text-center\">Welcome back</h2>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n            {/* Email Field */}\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                Email address\r\n              </label>\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">\r\n                  <Mail className=\"w-5 h-5\" />\r\n                </div>\r\n                <input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  disabled={loading}\r\n                  className=\"w-full pl-11 pr-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-900 placeholder-slate-400\"\r\n                  placeholder=\"you@example.com\"\r\n                  required\r\n                  aria-required=\"true\"\r\n                  aria-invalid={error ? 'true' : 'false'}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password Field */}\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                Password\r\n              </label>\r\n              <div className=\"relative\">\r\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">\r\n                  <Lock className=\"w-5 h-5\" />\r\n                </div>\r\n                <input\r\n                  id=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  disabled={loading}\r\n                  className=\"w-full pl-11 pr-11 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-900 placeholder-slate-400\"\r\n                  placeholder=\"Enter your password\"\r\n                  required\r\n                  aria-required=\"true\"\r\n                  aria-invalid={error ? 'true' : 'false'}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors duration-200 p-1\"\r\n                  aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n                  tabIndex={0}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"w-5 h-5\" />\r\n                  ) : (\r\n                    <Eye className=\"w-5 h-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\"\r\n                role=\"alert\"\r\n                aria-live=\"polite\"\r\n              >\r\n                {error}\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Login Button */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600\"\r\n            >\r\n              {loading ? (\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <svg\r\n                    className=\"animate-spin h-5 w-5 text-white\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <circle\r\n                      className=\"opacity-25\"\r\n                      cx=\"12\"\r\n                      cy=\"12\"\r\n                      r=\"10\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"4\"\r\n                    ></circle>\r\n                    <path\r\n                      className=\"opacity-75\"\r\n                      fill=\"currentColor\"\r\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                    ></path>\r\n                  </svg>\r\n                  Signing in...\r\n                </span>\r\n              ) : (\r\n                'Sign in'\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Links */}\r\n          <div className=\"mt-6 space-y-3 text-center\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => router.push('/forgot-password')}\r\n              className=\"block w-full text-sm text-blue-600 hover:text-blue-700 transition-colors duration-200 focus:outline-none focus:underline\"\r\n            >\r\n              Forgot password?\r\n            </button>\r\n            <div className=\"text-sm text-slate-600\">\r\n              Don't have an account?{' '}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => router.push('/signup')}\r\n                className=\"text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:underline\"\r\n              >\r\n                Create an account\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <p className=\"text-center text-sm text-slate-500 mt-8\">\r\n          Â© 2024 Lost & Found. All rights reserved.\r\n        </p>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}