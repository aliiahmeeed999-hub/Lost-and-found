{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7400/Desktop/my-project/lost-found-app/src/components/DashboardProfileCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { UserProfile } from '@/types/profile';\r\nimport Link from 'next/link';\r\nimport { Mail, Phone, User, BookOpen, Shield, Calendar, Edit3, Loader } from 'lucide-react';\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * DashboardProfileCard Component\r\n * Displays authenticated user's profile information in dashboard\r\n */\r\nexport default function DashboardProfileCard() {\r\n  const [user, setUser] = useState<UserProfile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch('/api/user/dashboard/profile');\r\n        \r\n        if (!response.ok) {\r\n          throw new Error('Failed to load profile');\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setUser(data.user);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to load profile');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-sm p-8 text-center\">\r\n        <Loader className=\"w-8 h-8 animate-spin text-indigo-600 mx-auto\" />\r\n        <p className=\"text-gray-600 mt-4\">Loading your profile...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !user) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-sm p-8 border border-red-200\">\r\n        <p className=\"text-red-600 font-medium\">{error || 'Failed to load profile'}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const joinedDate = new Date(user.createdAt).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100\">\r\n      {/* Header with background */}\r\n      <div className=\"h-32 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500\" />\r\n\r\n      {/* Profile content */}\r\n      <div className=\"px-8 pb-8\">\r\n        {/* Avatar and name section */}\r\n        <div className=\"flex items-end gap-4 mb-6 -mt-16 relative z-10\">\r\n          <div className=\"w-24 h-24 rounded-full border-4 border-white shadow-lg overflow-hidden bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0\">\r\n            {user.profileImage ? (\r\n              <img\r\n                src={user.profileImage}\r\n                alt={user.name}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            ) : (\r\n              <User className=\"w-12 h-12 text-white\" />\r\n            )}\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">{user.name}</h1>\r\n            {user.isVerified && (\r\n              <div className=\"flex items-center gap-1 mt-1\">\r\n                <Shield className=\"w-4 h-4 text-green-500\" />\r\n                <span className=\"text-sm text-green-600 font-medium\">Verified</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bio section */}\r\n        {user.bio && (\r\n          <div className=\"mb-6\">\r\n            <p className=\"text-gray-600 leading-relaxed\">{user.bio}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* User info grid */}\r\n        <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\r\n          {/* Email */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"p-3 bg-indigo-100 rounded-lg flex-shrink-0\">\r\n              <Mail className=\"w-5 h-5 text-indigo-600\" />\r\n            </div>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm text-gray-500 font-medium\">Email</p>\r\n              <p className=\"text-gray-900 break-all text-sm\">{user.email}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Phone */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"p-3 bg-green-100 rounded-lg flex-shrink-0\">\r\n              <Phone className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm text-gray-500 font-medium\">Phone</p>\r\n              <p className=\"text-gray-900 text-sm\">{user.phone || 'Not provided'}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Student ID */}\r\n          {user.studentId && (\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"p-3 bg-blue-100 rounded-lg flex-shrink-0\">\r\n                <BookOpen className=\"w-5 h-5 text-blue-600\" />\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm text-gray-500 font-medium\">Student ID</p>\r\n                <p className=\"text-gray-900 text-sm\">{user.studentId}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Reputation */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"p-3 bg-yellow-100 rounded-lg flex-shrink-0\">\r\n              <Shield className=\"w-5 h-5 text-yellow-600\" />\r\n            </div>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm text-gray-500 font-medium\">Reputation</p>\r\n              <p className=\"text-gray-900 text-sm\">{user.reputation} points</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Join date */}\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-6 pb-6 border-b\">\r\n          <Calendar className=\"w-4 h-4\" />\r\n          <span>Joined {joinedDate}</span>\r\n        </div>\r\n\r\n        {/* Edit button */}\r\n        <Link\r\n          href=\"/dashboard/profile/edit\"\r\n          className=\"w-full flex items-center justify-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium\"\r\n        >\r\n          <Edit3 className=\"w-5 h-5\" />\r\n          Edit Profile\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}