(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75238,t=>{"use strict";var e=t.i(89506),r=t.i(70971);let i=(0,r.createContext)(null);function u({children:t,initialUser:u=null}){let[o,l]=(0,r.useState)(u),[n,s]=(0,r.useState)(!u);return(0,r.useEffect)(()=>{if(u)return void s(!1);try{let t=document.cookie.split("; ").find(t=>t.startsWith("token="))?.split("=")[1];if(t){let e=t.split(".");if(3===e.length){let t=JSON.parse(atob(e[1]));l({userId:t.userId,email:t.email,iat:t.iat})}}}catch(t){console.error("Error checking auth:",t)}finally{s(!1)}},[u]),(0,e.jsx)(i.Provider,{value:{user:o,isLoading:n,logout:()=>{l(null)}},children:t})}function o(){let t=(0,r.useContext)(i);if(!t)throw Error("useAuth must be used within AuthProvider");return t}t.s(["AuthProvider",()=>u,"useAuth",()=>o])}]);